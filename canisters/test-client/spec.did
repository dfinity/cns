type ClientInit = record {
  cns_root_cid : text;
};

type RejectionCode = int;

type CnsError = variant {
  NotFound : text;
  CallFailed : record { RejectionCode; text };
  MalformedData : text;
  Internal : text;
};

service : (opt ClientInit) -> {
  "lookup_domain" : (domain : text) -> (variant { Ok : principal; Err : CnsError });
  "lookup_subnet" : (subnet_name : text) -> (variant { Ok : principal; Err : CnsError });
  "register_domain" : (domain : text, cid_text : text) -> (variant { Ok; Err : CnsError });
  "domain_for_canister" : (cid_text : text) -> (variant { Ok : text; Err : CnsError });
  "name_for_subnet" : (sid_text : text) -> (variant { Ok : text; Err : CnsError });
};
